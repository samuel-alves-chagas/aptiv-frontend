<app-header [name]="'Cadastro de Colaborador'" [role]="'admin'" (redirectTo)="backToPainel()"></app-header>

<div class="container-fluid">
    <form [formGroup]="formCadastrarColaborador">

        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-text-group">
                    <label for="nome" style="margin-right: 25px;">Nome:</label>
                    <input type="text" id="nome" formControlName="nome" class="input-text">
                </div>
            </div>
        </div>

        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-date-group">
                    <label for="dataDeAdmissao" style="margin-right: 25px;">Data de admissão:</label>
                    <input type="date" id="dataDeAdmissao" formControlName="dataDeAdmissao" class="input-date">
                </div>
            </div>
        </div>

        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-select-group">
                    <label for="unidade" style="margin-right: 25px;">Unidade:</label>
                    <select id="unidade" class="input-select">
                        <ng-container *ngFor="let i of ['Conceição dos Outros', 'Paraisópolis', 'Es. Santo do Pinhal']">
                            <option [value]="i">{{ i }}</option>
                        </ng-container>
                    </select>
                </div>
            </div>
        </div>


        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-text-group">
                    <label for="cargo" style="margin-right: 25px;">Cargo:</label>
                    <input type="text" id="cargo" formControlName="cargo" class="input-text">
                </div>
            </div>
        </div>


        <div class="row justify-content-center mb-2">
            <div class=" col-md-3 ">
                <div class="input-text-group">
                    <label for="departamento" style="margin-right: 25px;">Departamento:</label>
                    <input type="text" id="departamento" formControlName="departamento" class="input-text">
                </div>
            </div>
        </div>



        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-select-group">
                    <label for="perfilDeAcesso" style="margin-right: 25px;">Perfil de acesso:</label>
                    <select id="perfilDeAcesso" class="input-select">
                        <ng-container *ngFor="let i of ['Padrão', 'Administrativo']">
                            <option [value]="i">{{ i }}</option>
                        </ng-container>
                    </select>
                </div>
            </div>
        </div>

        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-date-group">
                    <label for="dataDeNascimento" style="margin-right: 25px;">Data de nascimento:</label>
                    <input type="date" id="dataDeNascimento" formControlName="dataDeNascimento" class="input-date">
                </div>
            </div>
        </div>


        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-text-group">
                    <label for="telefone" style="margin-right: 25px;">Telefone:</label>
                    <input type="text" id="telefone" formControlName="telefone" class="input-text">
                </div>
            </div>
        </div>


        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-text-group">
                    <label for="email" style="margin-right: 25px;">E-mail:</label>
                    <input type="text" id="email" formControlName="email" class="input-text">
                </div>
            </div>
        </div>


        <div class="row justify-content-center mb-2">
            <div class="col-md-3 ">
                <div class="input-text-group">
                    <label for="cpf" style="margin-right: 25px;">CPF:</label>
                    <input type="text" id="cpf" formControlName="cpf" class="input-text">
                </div>
            </div>
        </div>



        <fieldset>
            <legend class="legend-fieldset">Endereço</legend>

            <div class="row justify-content-center mb-2">
                <div class="col-md-3 container-input-fieldset">
                    <div class="row justify-content-center mb-2 mt-2">
                        <div class="col-md-12">
                            <div class="input-text-group">
                                <label for="enderecoCep" style="margin-right: 25px;">CEP:</label>
                                <input type="text" id="enderecoCep" formControlName="enderecoCep" class="input-text">
                            </div>
                        </div>
                    </div>

                    <div class="row justify-content-center mb-2">
                        <div class="col-md-12">
                            <div class="input-text-group">
                                <label for="enderecoLogradouro" style="margin-right: 25px;">Logradouro:</label>
                                <input type="text" id="enderecoLogradouro" formControlName="enderecoLogradouro"
                                    class="input-text">
                            </div>
                        </div>
                    </div>

                    <div class="row justify-content-center mb-2">
                        <div class="col-md-12">
                            <div class="input-text-group">
                                <label for="enderecoBairro" style="margin-right: 25px;">Bairro:</label>
                                <input type="text" id="enderecoBairro" formControlName="enderecoBairro"
                                    class="input-text">
                            </div>
                        </div>
                    </div>

                    <div class="row justify-content-center mb-2">
                        <div class="col-md-12 ">
                            <div class="input-text-group">
                                <label for="enderecoCidade" style="margin-right: 25px;">Cidade:</label>
                                <input type="text" id="enderecoCidade" formControlName="enderecoCidade"
                                    class="input-text">
                            </div>
                        </div>
                    </div>

                    <div class="row justify-content-center mb-2">
                        <div class="col-md-12">
                            <div class="input-text-group">
                                <label for="enderecoEstado" style="margin-right: 25px;">Estado:</label>
                                <input type="text" id="enderecoEstado" formControlName="enderecoEstado"
                                    class="input-text">
                            </div>
                        </div>
                    </div>

                    <div class="row justify-content-center mb-2">
                        <div class="col-md-12">
                            <div class="input-text-group">
                                <label for="enderecoPais" style="margin-right: 25px;">País:</label>
                                <input type="text" id="enderecoPais" formControlName="enderecoPais" class="input-text">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </fieldset>



        <fieldset>
            <legend class="legend-fieldset">Remuneração</legend>

            <div class="row justify-content-center mb-2">
                <div class="col-md-3 container-input-fieldset">
                    <div class="row justify-content-center mb-2 mt-2">
                        <div class="col-md-12">
                            <div class="input-text-group">
                                <label for="salario" style="margin-right: 25px;">Salário:</label>
                                <input type="number" id="salario" formControlName="salario" class="input-text">
                            </div>
                        </div>
                    </div>

                    <fieldset>
                        <legend class="legend-fieldset">Descontos</legend>

                        <ng-container *ngIf="controlsDescontos.controls.length">
                            <form [formGroup]="formCadastrarColaborador">

                                <div >
                                    <ng-container *ngFor="let descontos of controlsDescontos.controls; index as i">
                                        <div class="row justify-content-center mb-2 mt-2">
                                            <div class="col-md-12">
                                                <div class="input-text-group">
                                                    <label for="tipoDesconto" style="margin-right: 25px;">Tipo:</label>
                                                    <input type="text" [id]="'tipoDesconto'" [formControl]="getControl('descontos', 'tipoDesconto', i)"
                                                        class="input-text">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row justify-content-center mb-2 mt-2">
                                            <div class="col-md-12">
                                                <div class="input-text-group">
                                                    <label for="valorDesconto"
                                                        style="margin-right: 25px;">Valor:</label>
                                                    <input type="number" [id]="'valorDesconto'"
                                                    [formControl]="getControl('descontos', 'valorDesconto', i)" class="input-text">
                                                </div>
                                            </div>
                                        </div>

                                        <i style="margin-left: 1rem;margin-top: 0.5rem;" (click)="removeDesconto(i)"
                                            class="fa fa-trash"></i>
                                        <div style="clear:both;"></div>
                                    </ng-container>
                                </div>
                            </form>
                            

                        </ng-container>
                        <i style="margin-left: 1rem;margin-top: 0.5rem;" (click)="addDesconto()"
                                class="fa fa-plus"></i>
                        
                    </fieldset>

                    <fieldset>
                        <legend class="legend-fieldset">Benefícios</legend>


                        <ng-container *ngFor="let beneficio of getBeneficios(); let i = index">
                            <div [formGroupName]="i">
                                <div class="row justify-content-center mb-2 mt-2">
                                    <div class="col-md-12">
                                        <div class="input-text-group">
                                            <label for="tipoBeneficio" style="margin-right: 25px;">Tipo:</label>
                                            <input type="text" id="tipoBeneficio" formControlName="tipoBeneficio"
                                                class="input-text">
                                        </div>
                                    </div>
                                </div>
                                <div class="row justify-content-center mb-2 mt-2">
                                    <div class="col-md-12">
                                        <div class="input-text-group">
                                            <label for="valorBeneficio" style="margin-right: 25px;">Valor:</label>
                                            <input type="number" id="valorBeneficio" formControlName="valorBeneficio"
                                                class="input-text">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <i style="margin-left: 1rem;margin-top: 0.5rem;" (click)="removeBeneficio(i)"
                                class="fa fa-trash"></i>
                        </ng-container>

                        <i style="margin-left: 1rem;margin-top: 0.5rem;" (click)="addBeneficio()"
                            class="fa fa-plus"></i>
                    </fieldset>

                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend class="legend-fieldset">Competências</legend>

            <div class="row justify-content-center mb-2">
                <div class="col-md-3 container-input-fieldset">

                    <ng-container *ngFor="let competencia of getCompetencias(); let i = index">
                        <div [formGroupName]="i">
                            <div class="row justify-content-center mb-2 mt-2">
                                <div class="col-md-12">
                                    <div class="input-text-group">
                                        <input type="text" id="competencia" formControlName="competencia"
                                            class="input-text">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <i style="margin-left: 1rem;margin-top: 0.5rem;" (click)="removeCompetencia(i)"
                            class="fa fa-trash"></i>
                    </ng-container>

                    <i style="margin-left: 1rem;margin-top: 0.5rem;" (click)="addCompetencia()" class="fa fa-plus"></i>
                </div>
            </div>
        </fieldset>

        <div class="row justify-content-center mb-2">
            <div class="col-md-3">
                <div class="input-text-group">
                    <label for="registro" style="margin-right: 25px;">Registro:</label>
                    <input type="text" id="registro" formControlName="registro" class="input-text">
                </div>
            </div>
        </div>

        <div class="row justify-content-center mb-2">
            <div class="col-md-3">
                <div class="input-text-group">
                    <label for="senha" style="margin-right: 25px;">Senha:</label>
                    <input type="text" id="senha" formControlName="senha" class="input-text">
                </div>
            </div>
        </div>

        <div>
            <button type="button" style="margin-top: 30px;" (click)="cadastrar()"
                class="button-cadastrar">Cadastrar</button>
        </div>
    </form>

    <footer style="margin-top: 30px;">
        <img src="../../assets/aptiv-logo-preto.png">
    </footer>
</div>